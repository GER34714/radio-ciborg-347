<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üéß Radio Pulso Digital Urbano‚Ñ¢ | En Vivo</title>
<style>
  body {
    background: radial-gradient(circle at top, #0a0a0a 60%, #050505);
    color: #fff;
    font-family: Arial, sans-serif;
    text-align: center;
  }
  h1 {
    font-family: 'Orbitron', sans-serif;
    font-size: 2.8em;
    color: #0ff;
    text-shadow: 0 0 15px #0ff, 0 0 25px #09f;
    animation: pulse 2s infinite alternate;
  }
  @keyframes pulse {
    from { text-shadow: 0 0 10px #0ff, 0 0 20px #09f; }
    to { text-shadow: 0 0 30px #0ff, 0 0 50px #09f; }
  }
  button {
    background: #0ff;
    color: #000;
    border: none;
    border-radius: 30px;
    padding: 12px 24px;
    font-size: 18px;
    cursor: pointer;
    box-shadow: 0 0 15px #0ff;
  }
  button:hover {
    background: #09f;
    box-shadow: 0 0 25px #09f;
  }
  input[type="range"] {
    width: 200px;
    margin-top: 10px;
    accent-color: #0ff;
  }
  canvas {
    display: block;
    margin: 30px auto;
    width: 90%;
    height: 180px;
    background: transparent;
  }
</style>
</head>
<body>

<h1>üéß Radio Pulso Digital Urbano‚Ñ¢</h1>
<p>El ritmo de la calle y la energ√≠a del futuro üîä</p>

<audio id="radio" src="http://uk15freenew.listen2myradio.com:7546/;stream.mp3" crossorigin="anonymous"></audio>

<div>
  <button id="playBtn">‚ñ∂Ô∏è Play</button><br>
  <input id="volume" type="range" min="0" max="1" step="0.01" value="0.8">
</div>

<canvas id="visualizer"></canvas>

<script>
const audio = document.getElementById('radio');
const playBtn = document.getElementById('playBtn');
const volume = document.getElementById('volume');
const canvas = document.getElementById('visualizer');
const ctx = canvas.getContext('2d');
let audioCtx, source, analyser, dataArray;

playBtn.addEventListener('click', async () => {
  if (!audioCtx) {
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    source = audioCtx.createMediaElementSource(audio);
    analyser = audioCtx.createAnalyser();
    source.connect(analyser);
    analyser.connect(audioCtx.destination);
    analyser.fftSize = 128;
    const bufferLength = analyser.frequencyBinCount;
    dataArray = new Uint8Array(bufferLength);

    function draw() {
      requestAnimationFrame(draw);
      analyser.getByteFrequencyData(dataArray);
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      const barWidth = (canvas.width / bufferLength) * 2.5;
      let x = 0;
      for (let i = 0; i < bufferLength; i++) {
        const barHeight = dataArray[i] / 2;
        const gradient = ctx.createLinearGradient(0, canvas.height, 0, 0);
        gradient.addColorStop(0, '#09f');
        gradient.addColorStop(1, '#0ff');
        ctx.fillStyle = gradient;
        ctx.fillRect(x, canvas.height - barHeight, barWidth, barHeight);
        x += barWidth + 1;
      }
    }
    draw();
  }

  if (audio.paused) {
    await audio.play();
    playBtn.textContent = '‚è∏Ô∏è Pausa';
  } else {
    audio.pause();
    playBtn.textContent = '‚ñ∂Ô∏è Play';
  }
});

volume.addEventListener('input', () => {
  audio.volume = volume.value;
});
</script>

</body>
</html>
